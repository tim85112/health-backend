â–¶ æ­¥é©Ÿ 1ï¼šç™»å…¥ SQL Server
å…ˆç”¨WINDOWSç™»å…¥é€²å»ï¼Œlocakhost,1433
å®‰å…¨æ€§ï¼Œæ–°å¢å¸³è™Ÿå¯†ç¢¼ï¼Œè¦è¨˜å¾—è¨­ç½®ä½¿ç”¨è€…å°æ‡‰

â–¶ æ­¥é©Ÿ 2ï¼šå‰µå»º è³‡æ–™åº« / è¡¨
CREATE DATABASE aaa

CREATE TABLE users (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    name NVARCHAR(100),
    email NVARCHAR(100),
    password NVARCHAR(255)
);

ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

â–¶ æ­¥é©Ÿ 3ï¼šå‰µå»º spring å°ˆæ¡ˆ
é€²å…¥ Spring Initializrï¼š
ä¸‹è¼‰å¥—ä»¶
âœ… Spring Web
âœ… Spring Data JPA
âœ… SQL Server Driver
âœ… Spring Boot DevTools

â–¶ æ­¥é©Ÿ 4ï¼šapplication.properties è¨­å®š è³‡æ–™åº«é€£ç·š / JPA
spring.application.name=aaa

# databaseé…ç½®
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=aaa;encrypt=false;characterEncoding=UTF-8
spring.datasource.username=aaa
spring.datasource.password=aaa
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# JPA/Hibernate é…ç½®
spring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true



â–¶ æ­¥é©Ÿ 5ï¼šå‰µå»ºmodel + controller +repository
Mï¼š
package com.example.demo.model;

import jakarta.persistence.*;

@Entity
@Table(name = "users") // å°æ‡‰ä½  SQL Server ä¸­çš„è³‡æ–™è¡¨åç¨±
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    private String email;

    private String password;

    // Getter / Setter
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }
}

ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

Jï¼š

package com.example.demo.repository;
import com.example.demo.model.User;
import scala.collection.immutable.List;
import org.springframework.data.jpa.repository.JpaRepository;

// å®šç¾© UserRepository ä»‹é¢ï¼Œç¹¼æ‰¿ JpaRepository
public interface UserRepository extends JpaRepository<User, Long> {
    // é€™è£¡å¯ä»¥é¡å¤–åŠ æ¢ä»¶æŸ¥è©¢ï¼Œä¾‹å¦‚ findByEmail()ï¼Œå…ˆä¸ç”¨å¯«ï¼Œå…ˆåšåŸºæœ¬ CRUD

    // é¡å¤–æ¢ä»¶
    List<User> findByEmail(String email);
}


ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼


Cï¼š
package com.example.demo.controller;

import com.example.demo.model.User;
import com.example.demo.repository.UserRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@CrossOrigin(origins = "*")
@RestController
@RequestMapping("/users")
public class UserController {

    @Autowired
    private UserRepository userRepository;

    // æ–°å¢ä½¿ç”¨è€…
    @PostMapping
    public User createUser(@RequestBody User user) {
        return userRepository.save(user);
    }

    // æŸ¥è©¢æ‰€æœ‰ä½¿ç”¨è€…
    @GetMapping
    public List<User> getAllUsers() {
        return userRepository.findAll();
    }

    // æŸ¥è©¢å–®ä¸€
    @GetMapping("/{id}")
    public User getUserById(@PathVariable Long id) {
        return userRepository.findById(id).orElse(null);
    }

    // åˆªé™¤å–®ä¸€ä½¿ç”¨è€…
    @DeleteMapping("/{id}")
    public void deleteUser(@PathVariable Long id) {
        userRepository.deleteById(id);
    }

    // ä¿®æ”¹ä½¿ç”¨è€…

    @PutMapping("/{id}")
    public User updateUser(@PathVariable Long id, @RequestBody User updatedUser) {
        return userRepository.findById(id).map(user -> {
            user.setName(updatedUser.getName());
            user.setEmail(updatedUser.getEmail());
            user.setPassword(updatedUser.getPassword());
            return userRepository.save(user);
        }).orElse(null);
    }

}


â–¶ æ­¥é©Ÿ 6ï¼špostmanæ¸¬è©¦
ï¼‘ï¼è¨­ç½®header (key value)ï¼š
Content-Type application/json

ï¼’ï¼body(raw + json)ï¼š
{
  "name": "Ivan",
  "email": "ivan@test.com",
  "password": "123456"
}


ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

ä¸²è¯å‰ç«¯
â–¶ æ­¥é©Ÿ 1ï¼šå®‰è£ Node.js
å®‰è£ LTS ç‰ˆæœ¬ï¼š
ğŸ‘‰ https://nodejs.org/
æ‰“é–‹å‘½ä»¤åˆ—
node -v
npm -v


â–¶ æ­¥é©Ÿ 2 ï¼šå‰µå»ºå‰ç«¯å°ˆæ¡ˆ
å‰µå»ºè³‡æ–™å¤¾ ç”¨VSæ‰“é–‹
ç”¨VS è¼¸å…¥npm create vite@latest my-vue-app
å‰µå»ºä¹‹å¾Œnpm install 
npm run dev 

â–¶ æ­¥é©Ÿ 3 ï¼šå®‰è£ï½ï½˜ï½‰ï½ï½“
npm install axios


â–¶ æ­¥é©Ÿ 4 ï¼š æ”¹APP.VUE
<template>
  <div style="padding: 20px">
    <h1>ä½¿ç”¨è€…æ¸…å–®</h1>
    <ul>
      <!-- v-for è¿´åœˆæ¸²æŸ“æ¯å€‹ä½¿ç”¨è€… -->
      <li v-for="user in users" :key="user.id">
        <!-- è‹¥è©²ä½¿ç”¨è€…æ­£åœ¨ç·¨è¼¯ï¼Œé¡¯ç¤ºè¼¸å…¥æ¡† -->
        <template v-if="editingUserId === user.id">
          <input v-model="editName" placeholder="å§“å" />
          <input v-model="editEmail" placeholder="Email" />
          <input v-model="editPassword" placeholder="å¯†ç¢¼" />
          <button @click="updateUser(user.id)">å„²å­˜</button>
          <button @click="cancelEdit">å–æ¶ˆ</button>
        </template>
        <!-- å¦å‰‡é¡¯ç¤ºä¸€èˆ¬è³‡è¨Šèˆ‡æ“ä½œæŒ‰éˆ• -->
        <template v-else>
          {{ user.name }} - {{ user.email }}
          <button @click="startEdit(user)">ç·¨è¼¯</button>
          <button @click="deleteUser(user.id)">åˆªé™¤</button>
        </template>
      </li>
    </ul>

    <!-- æ–°å¢ä½¿ç”¨è€…å€å¡Š -->
    <h2 style="margin-top: 30px">æ–°å¢ä½¿ç”¨è€…</h2>
    <input v-model="name" placeholder="å§“å" />
    <input v-model="email" placeholder="Email" />
    <input v-model="password" placeholder="å¯†ç¢¼" />
    <button @click="createUser">é€å‡º</button>
  </div>
</template>

<script setup>
// å¼•å…¥ Vue çš„å·¥å…·å‡½å¼èˆ‡ axios
import { ref, onMounted } from 'vue'
import axios from 'axios'

// æ‰€æœ‰ä½¿ç”¨è€…æ¸…å–®ï¼ˆé™£åˆ—ï¼‰
const users = ref([])

// æ–°å¢ä½¿ç”¨è€…çš„è¼¸å…¥æ¬„ä½
const name = ref('')
const email = ref('')
const password = ref('')

// ç·¨è¼¯ç‹€æ…‹èˆ‡æ¬„ä½
const editingUserId = ref(null)
const editName = ref('')
const editEmail = ref('')
const editPassword = ref('')

// ç•«é¢åˆå§‹åŒ–æ™‚å‘¼å«ï¼Œå–å¾—æ‰€æœ‰ä½¿ç”¨è€…
const fetchUsers = async () => {
  const res = await axios.get('http://localhost:8080/users') // å‘å¾Œç«¯ç™¼ GET è«‹æ±‚
  users.value = res.data // å°‡å›å‚³è³‡æ–™å¡å…¥ usersï¼Œç•«é¢æœƒè‡ªå‹•æ›´æ–°
}

// ç•«é¢æ›è¼‰ï¼ˆç¬¬ä¸€æ¬¡é–‹å•Ÿï¼‰æ™‚å‘¼å« fetchUsers
onMounted(fetchUsers)

// å»ºç«‹ä½¿ç”¨è€…ï¼ˆç™¼é€ POSTï¼‰
const createUser = async () => {
  await axios.post('http://localhost:8080/users', {
    name: name.value,
    email: email.value,
    password: password.value
  })
  // æ¸…ç©ºè¡¨å–®
  name.value = ''
  email.value = ''
  password.value = ''
  fetchUsers() // é‡æ–°å–å¾—è³‡æ–™
}

// é–‹å§‹ç·¨è¼¯æŸä¸€ç­†è³‡æ–™ï¼ˆå¸¶å…¥åŸæœ¬å€¼ï¼‰
const startEdit = (user) => {
  editingUserId.value = user.id
  editName.value = user.name
  editEmail.value = user.email
  editPassword.value = user.password
}

// å–æ¶ˆç·¨è¼¯ï¼ˆæ¸…ç©ºæš«å­˜èˆ‡ç‹€æ…‹ï¼‰
const cancelEdit = () => {
  editingUserId.value = null
  editName.value = ''
  editEmail.value = ''
  editPassword.value = ''
}

// æ›´æ–°ä½¿ç”¨è€…ï¼ˆç™¼é€ PUTï¼‰
const updateUser = async (id) => {
  await axios.put(`http://localhost:8080/users/${id}`, {
    name: editName.value,
    email: editEmail.value,
    password: editPassword.value
  })
  editingUserId.value = null
  fetchUsers()
}

// åˆªé™¤ä½¿ç”¨è€…ï¼ˆç™¼é€ DELETEï¼‰
const deleteUser = async (id) => {
  await axios.delete(`http://localhost:8080/users/${id}`)
  fetchUsers()
}
</script>


â–¶ æ­¥é©Ÿ 5 ï¼š å¯¦æ¸¬
